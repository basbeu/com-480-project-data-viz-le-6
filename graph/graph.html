<!DOCTYPE html>
<meta charset="utf-8">
<style>

.links line {
  stroke: #999;
  stroke-opacity: 0.6;
}

.nodes circle {
  stroke: #fff;
  stroke-width: 1.5px;
}

text {
  font-family: sans-serif;
  font-size: 10px;
}

</style>


<select id="season">
</select>

<div id="graph_area">
  <svg id="graph"width="960" height="600"></svg>
</div>

<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script src="graph.js"></script>
<script>
$( document ).ready(function() {
  seasons = [1967, 1968, 1969, 1970, 1971, 1972, 1973, 1974, 1975, 1976, 1977, 1978, 1979, 1980, 1981, 1982, 1983, 1984, 1985, 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020]
  seasons.reverse().forEach(val => { $('#season').append('<option value="'+val+'">'+val+'</option>')});
  
  create_graph("#graph", "./data/graph_M_"+$('#season').val()+".json")
});

$('#season').on('change', function(){
  $('#graph').remove()
  $('#graph_area').html('<svg id="graph"width="960" height="600"></svg>')
  create_graph("#graph", "./data/graph_M_"+this.value+".json")
})
</script>